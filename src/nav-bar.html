<template>
  <nav class="navbar is-fixed-top" role="navigation">
    <div class="navbar-brand" href="#">
      <a class="navbar-item">
        <i class="fa fa-home"></i>
        <span>${router.title}</span>
      </a>
      <div class="navbar-burger burger" click.delegate="toggleMobileMenu()">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>

    <div class="navbar-menu ${isMobileMenuActive ? 'is-active' : ''}">
      <div class="navbar-start">
        <a repeat.for="row of router.navigation | authFilter: authenticated" class="navbar-item" href.bind="row.href">${row.title}</a>
      </div>

      <div class="navbar-end">
        <div class="loader navbar-item" if.bind="router.isNavigating">
          <i class="fa fa-spinner fa-spin fa-2x"></i>
        </div>
        <a if.bind="!authService.authenticated" href="#" click.delegate="login()" class="navbar-item">
          Login with Fitbit
        </a>
        <a if.bind="authService.authenticated" href="#" click.delegate="logout()" class="navbar-item">
          Logout
        </a>
      </div>
    </div>
  </nav>
</template>
