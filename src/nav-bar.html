<template>
  <nav class="navbar is-fixed-top" role="navigation">
    <div class="navbar-brand">
      <a class="navbar-item">
        <font-awesome-icon icon="home"></font-awesome-icon>
      </a>
      <div class="navbar-burger burger" click.delegate="toggleMobileMenu()">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>

    <div class="navbar-menu ${isMobileMenuActive ? 'is-active' : ''}">
      <div class="navbar-start">
        <a repeat.for="row of router.navigation | authFilter: authService.authenticated" class="navbar-item"
          href.bind="row.href">${row.title}</a>
      </div>

      <div class="navbar-end">
        <div class="navbar-item fa-3x fa-spin" if.bind="router.isNavigating">
          <font-awesome-icon icon="spinner"></font-awesome-icon>
        </div>
        <a if.bind="!authService.authenticated" href="#" click.delegate="login()" class="navbar-item">
          Login with Fitbit
        </a>
        <a if.bind="authService.authenticated" href="#" click.delegate="logout()" class="navbar-item">
          Logout
        </a>
      </div>
    </div>
  </nav>
</template>
